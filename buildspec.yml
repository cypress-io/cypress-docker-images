version: 0.2
env:
  variables:
    PUBLIC_ECR_ALIAS: "cypress-io"

batch:
  fast-fail: false
  build-list:
    - identifier: base10220
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "10.22.0"
    - identifier: base1200Libgbm
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "12.0.0-libgbm"
    - identifier: base12183
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "12.18.3"
    - identifier: base12184
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "12.18.4"
    - identifier: base12190
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "12.19.0"
    - identifier: base14101
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "14.10.1"
    - identifier: base14150
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "14.15.0"
    - identifier: base14154
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "14.15.4"
    - identifier: base14160
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "14.16.0"
    - identifier: base1450
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "14.5.0"
    - identifier: base1470
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "14.7.0"
    - identifier: base1600
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "16.0.0"
    - identifier: base1610
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "16.1.0"
    - identifier: base1620
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "16.2.0"
    - identifier: base1630
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "16.3.0"
    - identifier: basemanjaro14120
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/base"
          IMAGE_DIR: "base"
          IMAGE_TAG: "manjaro-14.12.0"

    - identifier: browsersnode12141Chrome85Ff81
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node12.14.1-chrome85-ff81"
    - identifier: browsersnode12183Chrome83Ff77
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node12.18.3-chrome83-ff77"
    - identifier: browsersnode12183Chrome87Ff82
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node12.18.3-chrome87-ff82"
    - identifier: browsersnode12183Chrome89Ff86
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node12.18.3-chrome89-ff86"
    - identifier: browsersnode12184Edge88
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node12.18.4-edge88"
    - identifier: browsersnode12190Chrome86Ff82
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node12.19.0-chrome86-ff82"
    - identifier: browsersnode1380Chrome81Ff75
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node13.8.0-chrome81-ff75"
    - identifier: browsersnode14101Edge88
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node14.10.1-edge88"
    - identifier: browsersnode14150Chrome86Ff82
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node14.15.0-chrome86-ff82"
    - identifier: browsersnode14160Chrome89Ff77
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node14.16.0-chrome89-ff77"
    - identifier: browsersnode14160Chrome89Ff86
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node14.16.0-chrome89-ff86"
    - identifier: browsersnode14160Chrome90Ff88
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node14.16.0-chrome90-ff88"
    - identifier: browsersnode1470Chrome84
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/browsers"
          IMAGE_DIR: "browsers"
          IMAGE_TAG: "node14.7.0-chrome84"

    - identifier: included320
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.2.0"
    - identifier: included330
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.3.0"
    - identifier: included331
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.3.1"
    - identifier: included332
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.3.2"
    - identifier: included340
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.4.0"
    - identifier: included341
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.4.1"
    - identifier: included350
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.5.0"
    - identifier: included360
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.6.0"
    - identifier: included361
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.6.1"
    - identifier: included370
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.7.0"
    - identifier: included380
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.8.0"
    - identifier: included381
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.8.1"
    - identifier: included382
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.8.2"
    - identifier: included383
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "3.8.3"
    - identifier: included400
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.0.0"
    - identifier: included401
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.0.1"
    - identifier: included402
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.0.2"
    - identifier: included410
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.1.0"
    - identifier: included4100
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.10.0"
    - identifier: included4110
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.11.0"
    - identifier: included4120
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.12.0"
    - identifier: included4121
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.12.1"
    - identifier: included420
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.2.0"
    - identifier: included430
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.3.0"
    - identifier: included440
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.4.0"
    - identifier: included441
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.4.1"
    - identifier: included450
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.5.0"
    - identifier: included460
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.6.0"
    - identifier: included470
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.7.0"
    - identifier: included480
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.8.0"
    - identifier: included490
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "4.9.0"
    - identifier: included500
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.0.0"
    - identifier: included510
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.1.0"
    - identifier: included520
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.2.0"
    - identifier: included530
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.3.0"
    - identifier: included540
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.4.0"
    - identifier: included550
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.5.0"
    - identifier: included560
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "5.6.0"
    - identifier: included600
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.0.0"
    - identifier: included601
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.0.1"
    - identifier: included610
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.1.0"
    - identifier: included620
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.2.0"
    - identifier: included621
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.2.1"
    - identifier: included630
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.3.0"
    - identifier: included640
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.4.0"
    - identifier: included650
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.5.0"
    - identifier: included660
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.6.0"
    - identifier: included670
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.7.0"
    - identifier: included671
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.7.1"
    - identifier: included680
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "6.8.0"
    - identifier: included700
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.0.0"
    - identifier: included701
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.0.1"
    - identifier: included710
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.1.0"
    - identifier: included720
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.2.0"
    - identifier: included730
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.3.0"
    - identifier: included740
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.4.0"
    - identifier: included750
      env:
        image: aws/codebuild/standard:5.0
        type: LINUX_CONTAINER
        privileged-mode: true
        compute-type: BUILD_GENERAL1_MEDIUM
        variables:
          IMAGE_REPO_NAME: "cypress/included"
          IMAGE_DIR: "included"
          IMAGE_TAG: "7.5.0"

phases:
  pre_build:
    commands:
      - aws --version
      - echo Check if $IMAGE_TAG is in ECR...
      - ./find-ecr-image.sh $IMAGE_REPO_NAME $IMAGE_TAG -p
      - echo Logging in to Amazon ECR...
      - aws ecr get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin $AWS_ACCOUNT_ID.dkr.ecr.$AWS_DEFAULT_REGION.amazonaws.com
      - aws ecr-public get-login-password --region $AWS_DEFAULT_REGION | docker login --username AWS --password-stdin public.ecr.aws/$PUBLIC_ECR_ALIAS
  build:
    commands:
      - echo Building the Docker image...          
      - cd $IMAGE_DIR/$IMAGE_TAG
      - docker build -t $IMAGE_REPO_NAME:$IMAGE_TAG .
      - docker tag $IMAGE_REPO_NAME:$IMAGE_TAG public.ecr.aws/$PUBLIC_ECR_ALIAS/$IMAGE_REPO_NAME:$IMAGE_TAG
  post_build:
    commands:
      - echo Pushing the Docker image...
      - docker push public.ecr.aws/$PUBLIC_ECR_ALIAS/$IMAGE_REPO_NAME:$IMAGE_TAG